//! moment-holiday.js
//! version : 1.5.1
//! author : Kodie Grantham
//! license : MIT
//! https://github.com/kodie/moment-holiday
(function(){function g(e,t,r){for(var a,n=[],i=0;i<q.length;i++){var s=q[i](e,t);!s&&!1!==s||(a=s)}if(!1===a)return!1;if("string"==typeof a?t=a:a&&(n=a),!j.isMoment(n)&&!n.length&&t.charAt(0).match(/[0-9(]/)){var o=!1,h=t.split("|");1<h.length&&(o=!0),2<h.length&&(h=[h[0],h[1]]);for(i=0;i<h.length;i++){var l=j(e),d=h[i].split("/");if(1===d.length||2===d.length&&"("!==d[1].charAt(0)&&4===d[1].length){var f=h[i];i=-1,h=[];for(var y=1;y<13;y++)h.push(y+"/"+f)}else if(2<d.length&&l.year(parseInt(d[2])),l.month(parseInt(d[0])-1),"("===d[1].charAt(0)){var u=d[1].slice(1,-1).split(","),c=parseInt(u[0]),g=parseInt(u[1]),v=j(l).startOf("month"),p=j(l).endOf("month").diff(v,"days")+1,m=[];if(u[1]&&"["===u[1].charAt(0)){var w=!0;(g=parseInt(u[1].slice(1,-1)))<0&&(w=!1,g=parseInt(u[1].slice(2,-1))),v=j(l).date(g);for(var b=0;b<7;b++){if(v.day()===c){n.push(j(v));break}w?v.add(1,"day"):v.subtract(1,"day")}continue}for(var k=0;k<p;k++)v.day()===c&&m.push(j(v)),v.add(1,"day");if(!g){n=n.concat(m);continue}l=g<0?m[m.length+g]:m[g-1],n.push(l)}else n.push(l.date(d[1]))}if(o&&1<n.length){var O=n[1].diff(n[0],"days");if(1<O){var _=j(n[0]);n=[n[0]];for(i=0;i<O;i++)_.add(1,"day"),n.push(j(_))}}}for(n=x(n),i=0;i<n.length;i++)j.isMoment(n[i])?(r&&(0===n[i].day()&&(n[i]=n[i].add(1,"day")),6===n[i].day()&&(n[i]=n[i].subtract(1,"day"))),n[i]=n[i].startOf("day")):delete n[i];return!!n.length&&(1===n.length?n[0]:n)}function v(e,t){var r=[];t=x(t);for(var a=0;a<t.length;a++){var n=e.match(new RegExp(t[a],"gi"));n&&(r=r.concat(n))}return r}function l(e,t,r,a,n){var i={},s=[],o={};if(h=n||j.holidays.active,h.hasOwnProperty(t))s.push(t);else if(fk=m(t,h))s.push(fk);else{for(var l in h)if(h.hasOwnProperty(l)){if(i[l]=v(t,l.split(/[\s,.-]+/).filter(function(e){return 2<e.length})).length,h[l].keywords_n)if(v(t,h[l].keywords_n).length){i[l]=0;continue}if(h[l].keywords_y){var d=v(t,h[l].keywords_y);if(!d||d.length!==h[l].keywords_y.length){i[l]=0;continue}i[l]+=d.length}if(h[l].keywords){var f=v(t,h[l].keywords);if(!f)continue;i[l]+=f.length}}for(var y in i)i[y]&&i.hasOwnProperty(y)&&(s.length&&i[y]!==i[s[0]]?i[y]>i[s[0]]&&(s=[y]):s.push(y))}if(!s.length)return!1;if(!1===a)return s;for(var u=0;u<s.length;u++){var c=g(e,h[s[u]].date,r);c&&(o[s[u]]=c)}return!!Object.keys(o).length&&o}function d(e,t,r,a,n){var i=[];a&&(i={}),t=x(t),n=n||j.holidays.active;for(var s=0;s<t.length;s++){var o=l(e,t[s],r,a,n);o&&(i=a?y(i,o):i.concat(o))}return i}function p(e,t){var r=j.holidays.active,a={};for(var n in r)r.hasOwnProperty(n)&&(td=g(e,r[n].date,t))&&(a[n]=td);return a}function f(e){if(regions=e.split("/"),e=regions[0].toLowerCase().replace(" ","_"),regions.shift(),!j.holidays[e])try{var t="./locale/";"build"==__dirname.split("/").slice(-1).pop()&&(t="."+t),require(t+e)}catch(e){}return!!j.holidays[e]&&(regions.length?function(e,t){var r=j.holidays[e],a={};if(r)for(var n=0;n<t.length;n++){var i=t[n].toLowerCase(),s=j.holidays[e+"/"+i];for(var o in s={},r)if(r.hasOwnProperty(o)){var h=r[o].regions||[],l=r[o].regions_n||[];h.length&&h.join().toLowerCase().split(),l.length&&l.join().toLowerCase().split(),(!h.length&&!l.length||h.length&&~h.indexOf(i)||l.length&&!~l.indexOf(i))&&(s[o]=r[o])}s&&(a=y(a,s))}return!!Object.keys(a).length&&a}(e,regions):j.holidays[e])}function r(e,t,r,a){t=t||1;for(var n=p(e,a),i=j(e),s=e.year(),o=[],h=0;h<t;h++)for(var l=j(i);;){var d=!1;if(r?l.add(1,"day"):l.subtract(1,"day"),l.year()!==s&&(n=p(l,a),s=l.year()),!Object.keys(n).length){d=!0;break}for(var f in n)if(n.hasOwnProperty(f)){for(var y=!1,u=x(n[f]),c=0;c<u.length;c++)if(l.isSame(u[c],"day")){o.push(u[c]),i=j(l),y=!0;break}if(y){d=!0;break}}if(d)break}return!!o.length&&(1===o.length?o[0]:o)}var j="undefined"==typeof require||null===require||require.amd?this.moment:require("moment"),q=[],x=function(e){return e&&e.constructor!==Array?[e]:e},m=function(e,t){t.constructor===Object&&(t=Object.keys(t));for(var r=0;r<t.length;r++)if(e.toLowerCase()===t[r].toLowerCase())return t[r];return!1},y=function(e,t){return Object.assign({},e,t)};j.fn.holiday=function(e,t){j.holidays.active;var r={},a=!1;if(e){e.constructor!==Array&&(a=!0,e=[e]);for(var n=0;n<e.length;n++)(td=l(this,e[n],t))&&(r=Object.assign({},r,td))}else r=p(this,t);var i=Object.keys(r);return!!i.length&&(1===i.length&&a?r[i[0]]:r)},j.fn.holidays=function(e,t){return this.holiday(e,t)},j.fn.isHoliday=function(e,t){var r,a,n=[];if(a=e?(e=x(e),r=this.holiday(e,t),!1):(r=p(this,t),!0),!r)return!1;for(var i in r)if(r.hasOwnProperty(i))for(var s=x(r[i]),o=0;o<s.length;o++)if(this.isSame(s[o],"day")){if(!a)return!0;n.push(i)}return!!n.length&&(1===n.length?n[0]:n)},j.fn.previousHoliday=function(e,t){return r(this,e,!1,t)},j.fn.previousHolidays=function(e,t){return this.previousHoliday(e,t)},j.fn.nextHoliday=function(e,t){return r(this,e,!0,t)},j.fn.nextHolidays=function(e,t){return this.nextHoliday(e,t)},j.fn.holidaysBetween=function(e,t){e=e||new Date,e=j(e).subtract(1,"day");for(var r=p(this,t),a=j(this),n=a.year(),i=[],s=0;s<e.diff(this,"days")&&(a.add(1,"day"),a.year()!==n&&(r=p(a,t),n=a.year()),Object.keys(r).length);s++)for(var o in r){for(var h=!1,l=x(r[o]),d=0;d<l.length;d++)if(a.isSame(l[d],"day")){i.push(l[d]),h=!0;break}if(h)break}return!!i.length&&i},j.holidays={active:{},active_last:{}},j.modifyHolidays={set:function(e,t){var r={};if(e.constructor===Array){for(var a=[],n=0;n<e.length;n++){var i=l(this,e[n],null,!1);i&&(a=a.concat(i))}if(a.length)for(var s in r=y(j.holidays.active))r.hasOwnProperty(s)&&(~a.indexOf(s)||delete r[s])}else if("string"==typeof e){var o=f(e);if(o)if(t){var h=d(this,t,!1,!1,o);for(n=0;n<h.length;n++)r[h[n]]=y(o[h[n]])}else r=y(o)}else r=e;return!Object.keys(r).length&&e!==r||Object.is(j.holidays.active,r)||(j.holidays.active_last=y(j.holidays.active),j.holidays.active=r),this},add:function(e,t){if("string"==typeof e){var r=f(e);if(e={},r)if(t)for(var a=d(this,t,!1,!1,r),n=0;n<a.length;n++)e[a[n]]=y(r[a[n]]);else e=r}return Object.keys(e).length&&(j.holidays.active_last=y(j.holidays.active),j.holidays.active=y(j.holidays.active,e)),this},remove:function(e){e=x(e);var t=d(this,e,!1,!1),r=y(j.holidays.active);if(t)for(var a=0;a<t.length;a++)delete r[t[a]];return Object.is(j.holidays.active,r)||(j.holidays.active_last=y(j.holidays.active),j.holidays.active=r),this},undo:function(){var e=y(j.holidays.active);return j.holidays.active=y(j.holidays.active_last),j.holidays.active_last=e,this},load:function(e){e=x(e);for(var t=0;t<e.length;t++)f(e[t]);return this},extendParser:function(e){return q.push(e),this}},null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(module.exports=j)}).call(this),
//! moment-holiday.js locale configuration
//! locale : Germany
//! author : Kodie Grantham : https://github.com/kodie
function(){var e="undefined"==typeof require||null===require||require.amd?this.moment:require("moment");e.holidays.germany={Neujahr:{date:"1/1",keywords:["new","year"]},Karfreitag:{date:"easter-2",keywords:["good","friday"]},Ostersonntag:{date:"easter",keywords:["easter"],keywords_n:["monday"],regions:["bb"]},Ostermontag:{date:"easter+1",keywords:["easter","monday"]},"Heilige Drei Könige":{date:"1/6",keywords:["konige"],regions:["bw","by","st"]},"Internationaler Frauentag":{date:"3/8",regions:["be"]},Maifeiertag:{date:"5/1"},"Christi Himmelfahrt":{date:"easter+39",kaywords:["ascension"]},Pfingstsonntag:{date:"easter+49",keywords:["pentecost"],regions:["bb"]},Pfingstmontag:{date:"easter+50",keywords:["whit","monday"]},Fronleichnam:{date:"easter+60",keywords:["corpus","christi"],regions:["bw","by","he","nw","rp","sl"]},"Mariä Himmelfahrt":{date:"8/15",keywords:["maria"],regions:["sl"]},"Tag der deutschen Einheit":{date:"10/3"},Reformationstag:{date:"10/31",regions:["bb","hb","hh","mv","ni","sn","st","sh","th"]},Allerheiligen:{date:"11/1",regions:["bw","by","nw","rp","sl"]},"Buß- und Bettag":{date:"11/(3,[17])",keywords:["bub"],regions:["sn"]},"Erster Weihnachtsfeiertag":{date:"12/25",keywords_y:["erster"]},"Zweiter Weihnachtsfeiertag":{date:"12/26",keywords_y:["zweiter"]}},null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(module.exports=e)}.call(this),
//! Set default locales
function(){("undefined"==typeof require||null===require||require.amd?this.moment:require("moment")).modifyHolidays.add("Germany/BE")}.call(this);
//# sourceMappingURL=moment-holiday-berlin.min.js.map
